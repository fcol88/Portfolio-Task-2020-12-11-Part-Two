{% extends "base.html" %}

{% block title %}Add task{% endblock %}

{% block content %}

<h2>Add a task</h2>

{% if feedback is defined %}
<div class="error-pane" id="errorPane">
    <h3>Errors</h3>
    <ul>
        {% for item in feedback %}
        <li class="error">{{ item }}</li>
        {% endfor %}
    </ul>
</div>
{% endif %}

<div class="form-container">

    <form action="/addtask" method="POST">

        <div class="form-group">

            <label for="description">Task Description</label>
            <textarea id="description" name="description" rows="5" cols="50">{{ description }}</textarea>
            <p>Characters remaining: <span id="remaining">500</span></p>

        </div>

        <div class="form-group">

            <label for="user">User</label>
            <select id="user" name="user">
                <option disabled="disabled" selected="selected" value="">Select</option>
                {% for user in users %}
                    <option value="{{ user.id }}">{{ user.firstName + ' ' + user.lastName }}</option>
                {% endfor %}
            </select>

        </div>

        <div class="form-group">

            <label for="pin">User PIN</label>
            <input id="pin" name="pin" class="pin" type="password" />

        </div>

        <button class="btn" type="submit" id="saveTask">Save task</button>

        <a class="btn btn-secondary" href="/tasklist">Cancel</a>

    </form>

</div>

{% endblock %}

{% block scripts %}
    <script src="static/js/main.js" type="text/javascript"></script> 
{% endblock %}